# 硬件编程–机器指令编程

## 回答下列问题
## 1）PC，IR 寄存器的作用
PC:程序计数器，是用来表示下一条指令的地址的，指示指令在存储器的存放位置，也就是个地址信息

IR:IR的全称应该是Instructinon register 
指令寄存器是用来存放指令的，存放当前正在执行的指令，包括指令的操作码，地址码，地址信息。

## 2）ACC 寄存器的全称与作用。

ACC就是单片机里最常用的8位寄存器，名叫累加器。累加器ACC是一个8位的存储单元，专门用来存放操作数或运算结果。在CPU执行某种运算前，两个操作数中的一个通常应放在累加器A中，运算完成后累加器A中便可得到运算结果。

## 3）用“LOD #3”指令的执行过程，解释Fetch-Execute周期。
1)pc 根据地址从RAM取指令LOD #3 

2)指令传入IR，指令传入Decoder，传入ALU，形成动作“取值”。无需取址，3直接传入MUX 

3)数据3传入ALU，再传入ACC

## 4）用“ADD W” 指令的执行过程，解释Fetch-Execute周期。
1）pc 根据地址从RAM取出指令ADDW

2）指令传入IR，传入Decoder，解码后在ALU中形成动作“加法”，并从ACC中读取7。

3)Decoder中指令同时传入MUX，IR再次访问RAM根据W的地址从RAM中取出W的数据“3”，传入ALU中。

4）ALU完成运算将结果“10”传入ACC中。


## 5）“LOD #3” 与 “ADD W” 指令的执行在Fetch-Execute周期级别，有什么不同。

1）前者的指令传入后执行时不需要从RAM取址来获得数据，后者要访问RAM中的W的地址。

2）ALU中进行的运算不同。


# （3）点击“Binary”,观察回答下面问题
## 1）写出指令 “LOD #7” 的二进制形式，按指令结构，解释每部分的含义。

00010100 00000111

前8位是指令说明符，其中第四位是寻址方式表达符（1代表立即取数，0代表直接寻址来获得数）后4位是操作符，0100代表LOD。

后8位是操作数说明符，00000111代表数字7.

## 2）解释 RAM 的地址。
RAM的地址是一个8位二进制码，地址中可以存放指令和数据。

## 3）该机器CPU是几位的？（按累加器的位数）
8位

## 写出该程序对应的 C语言表达。
int main(){

int w = 3;

int x = 7;

int y=w+7;

}
# 任务 2：简单循环

 输入程序Program 2，运行并回答问题：

## 1)用一句话总结程序的功能

不断循环，每次循环将x减1直到x=0结束运行。

## 2）写出对应的 c 语言程序
int main(){

int x = 3;

while (x!=0){

--x;

}
}
# [2] 修改该程序，用机器语言实现 10+9+8+..1 ，输出结果存放于内存 Y

## 1)写出 c 语言的计算过程 
int main(){

    int x = 10;
    int y = 0 ;
    while (x!=0){
        y=y+x;
        --x;
    }
}

## 2)写出机器语言的计算过程
RAM数据中 X=10

LOD X

STO Y

LOD X

SUB #1

JMZ 18

ADD Y

STO Y

JMP 4

HLT





## 3）用自己的语言，简单总结高级语言与机器语言的区别与联系。
区别：高级语言要更加简单并且不必要因为CPU或者机器的不同而进行改变，在编写时也不用特意去考虑寄存器中的数。更适合人类去阅读和理解。而机器语言要考虑寄存器中存放的数并且根据不同的硬件要做出改动，机械语言更加基础，难以理解并且BUG难找，但是是机器唯一可以识别的语言。

联系：高级语言可以编译为机器语言。它们都可以做到判断，循环，运算等操作。